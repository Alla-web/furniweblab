{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/hero.js","../src/js/furniture-list.js","../src/js/furniture-details-modal.js","../src/js/order-modal.js"],"sourcesContent":["const burger = document.getElementById('burger');\nconst nav = document.getElementById('nav');\nconst overlay = document.getElementById('overlay');\n\nburger.addEventListener('click', () => {\n  const isActive = nav.classList.toggle('active');\n  overlay.classList.toggle('active');\n  burger.classList.toggle('active', isActive);\n});\n\noverlay.addEventListener('click', () => {\n  nav.classList.remove('active');\n  overlay.classList.remove('active');\n  burger.classList.remove('active');\n});\n\n// Закриття меню при кліку на пункт навігації\ndocument.querySelectorAll('.nav__link, .nav__btn').forEach(link => {\n  link.addEventListener('click', () => {\n    nav.classList.remove('active');\n    overlay.classList.remove('active');\n    burger.classList.remove('active');\n  });\n});\n","\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const btn = document.querySelector('.btn.btn-link');\n    const targetId = \"feedbacks\";\n\n    btn.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      const target = document.getElementById(targetId);\n\n      if (target) {\n        target.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\"\n        });\n      }\n    });\n  });","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://furniture-store-v2.b.goit.study/api';\n\nasync function fetchCategories() {\n  try {\n    const { data: categories } = await axios('/categories');\n    return categories;\n  } catch (error) {\n    iziToast.error({\n      message: `${error.message ?? String(error)}`,\n      position: 'topCenter',\n      timeout: 3000,\n      backgroundColor: '#EF4040',\n      messageColor: 'white',\n      close: false,\n    });\n  }\n}\n\n//отримуємо список категорій\nfetchCategories();\n\nconst categoriesBoxes = document.querySelectorAll('.category-card');\n\nasync function renderCategories(categoriesBoxes) {\n  const categories = await fetchCategories();\n\n  [...categoriesBoxes].forEach((categoryBox, index) => {\n    if (index === 0) {\n      return;\n    }\n\n    categoryBox.dataset.id = categories[index - 1]._id;\n    categoryBox.children[0].textContent = categories[index - 1].name;\n  });\n}\n\n//промальовуємо назви категорій\nrenderCategories(categoriesBoxes);\n\n//ловимо клік по категорії\nconst furnitureListContainer = document.querySelector('.futniture-list');\nconst categoryContainer = document.querySelector('.category-container');\n\ncategoryContainer.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(event) {\n  event.preventDefault();\n\n  const pickedCategoryCard = event.target.closest('.category-card');\n\n  if (!categoryContainer.contains(pickedCategoryCard) || !pickedCategoryCard) {\n    return;\n  }\n\n  const categoryId = pickedCategoryCard.dataset.id;\n  let itemsPage = 1;\n\n  try {\n    const { data: categoryItems } = await axios(`/furnitures`, {\n      params: {\n        page: itemsPage,\n        limit: 10,\n        category: categoryId,\n        // sortDirect: asc,\n      },\n    });\n\n    furnitureListContainer.innerHTML = renderFurnitureList(\n      categoryItems.furnitures\n    );\n  } catch (error) {\n    iziToast.error({\n      message: `${error.message ?? String(error)}`,\n      position: 'topCenter',\n      timeout: 3000,\n      backgroundColor: '#EF4040',\n      messageColor: 'white',\n      close: false,\n    });\n  }\n}\n\nfunction renderFurnitureList(furnitureList) {\n  return furnitureList\n    .sort((a, b) => a.price - b.price)\n    .map(\n      furniItem => `\n        <li>\n            <img class=\"card-image\" src=\"${furniItem.images[0]}\" alt=\"${\n        furniItem.name\n      }\"/>\n            <h3 class=\"card-title\">${furniItem.name}</h3>\n            <ul class=\"card-color-container\">\n                ${(furniItem.color || [])\n                  .map(\n                    color => `\n                    <li\n                    class=\"card-color-item\"\n                    style=\"background-color: ${color};\">1\n                    </li>\n                    `\n                  )\n                  .join('')}               \n            </ul>\n            <p class=\"card-price\">${furniItem.price.toLocaleString()} грн</p>\n            <button \n                class=\"details-button button\" \n                data-id=\"${furniItem._id}\">Детальніше</button>\n        </li>\n    `\n    )\n    .join('');\n}\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://furniture-store-v2.b.goit.study/api';\n\n// помилки\nfunction showToastError(message) { \n    iziToast.error({\n        message: message,\n        position: 'topCenter',\n        timeout: 3000,\n        backgroundColor: '#EF4040', \n        messageColor: 'white',\n        close: false,\n    });\n}\n//  Запит зa ID\nasync function fetchProductDetails(productId) {\n    try {\n        const response = await axios.get(`/products/${productId}`);\n        return response.data;\n    } catch (error) {\n        console.error(`Помилка при отриманні деталей продукту з ID ${productId}:`, error);\n        throw error;\n    }\n}\n\n// отримую змінні з дому\nconst modalBackdrop = document.querySelector('.product-modal-backdrop');\nconst modalContentEl = document.querySelector('.product-modal .modal-main-content');\nconst modalCloseBtn = document.querySelector('.modal-close-btn');\nconst body = document.body;\n\n\n\n// функція рейтингу,на основі бібліотеки Не ЗРОБЛЕНА\nfunction generateRatingStars(rating) {\n    return `<rating data-rating=\"${rating}\" data-max-rating=\"5\" data-icon=\"&#9733;\" data-font-size=\"20px\" class=\"rating-stars\"></rating>`;\n}\n\n// маркери кольору(акцент на першому)\nfunction generateColorOptions(colors) {\n    const colorOptionsHTML = colors.map((hexColor, index) => {\n        const colorId = `color-${hexColor.substring(1)}`;\n        const isActive = index === 0 ? 'checked' : '';\n        const activeClass = index === 0 ? 'is-active' : ''; \n        return `\n            <label class=\"color-option\">\n                <input type=\"radio\" name=\"product-color\" value=\"${hexColor}\" id=\"${colorId}\" ${isActive} class=\"visually-hidden\">\n                <span class=\"custom-radio-style ${activeClass}\" style=\"background-color: ${hexColor};\" data-color-hex=\"${hexColor}\"></span>\n            </label>\n        `;\n    }).join('');\n    \n    return `<div class=\"color-options-container\"><p class=\"color-label\">Колір</p><form class=\"color-options\">${colorOptionsHTML}</form></div>`;\n}\n\n// створення розмітки\nfunction renderModalContent(details) {\n    const priceFormatted = details.price.toLocaleString() + ' грн';\n    return `\n        <div class=\"product-gallery\">\n            <img src=\"${details.images[0]}\" alt=\"${details.name} (Основне)\" class=\"main-product-image\">\n            <div class=\"gallery-thumbnails\">\n                 ${details.images.slice(1).map(imgUrl => `<img src=\"${imgUrl}\" alt=\"${details.name} (Мініатюра)\" class=\"gallery-thumbnail\">`).join('')}\n            </div>\n        </div>\n        \n        <div class=\"product-info\">\n            <h2 class=\"model-name\">${details.name}</h2> <p class=\"category-name\">${details.category.name}</p> <p class=\"product-price\"><span class=\"price-value\">${priceFormatted}</span><span class=\"price-currency\"></span></p> ${generateRatingStars(details.rate)} ${generateColorOptions(details.color)} <div class=\"product-details\">\n                <p class=\"description-text\">${details.description}</p> <p class=\"dimensions-text\">Розміри: ${details.sizes} см</p> </div>\n            \n            <button \n                class=\"button order-btn open-order-modal-btn\" \n                type=\"button\"\n                data-product-id=\"${details._id}\"      \n                data-marker=\"details_page_order\">  \n                Перейти до замовлення\n            </button>\n        </div>\n    `;\n}\n\n\n// маркери\nfunction onColorChange(event) {\n    const optionsContainer = event.currentTarget; \n    \n    // Видаляємо клас 'is-active' з усіх елементів\n    optionsContainer.querySelectorAll('.custom-radio-style').forEach(styleEl => styleEl.classList.remove('is-active'));\n    \n    // Додаємо клас 'is-active' до обраного елемента\n    if (event.target.classList.contains('visually-hidden')) {\n        event.target.nextElementSibling.classList.add('is-active');\n    }\n}\n\n// ф-ція закриття модолки\nfunction closeModal() {\n    modalBackdrop.classList.add('is-hidden');\n    body.classList.remove('modal-open'); \n    document.removeEventListener('keydown', onEscKeyPress);\n    modalContentEl.innerHTML = ''; \n}\n\n// інформація на основі якої відкрила модалку\nasync function handleOpenDetailsModal(event) {\n    const productId = event.detail.productId;\n    \n    try {\n        const details = await fetchProductDetails(productId);\n        \n        modalContentEl.innerHTML = renderModalContent(details);\n        \n        //  слухаю динамічні елементи\n        const colorForm = document.querySelector('.product-modal .color-options');\n        if (colorForm) {\n            colorForm.addEventListener('change', onColorChange); \n        }\n        document.querySelector('.product-modal .open-order-modal-btn').addEventListener('click', onOrderBtnClick); // 123\n        \n        // Відкриття модалки\n        modalBackdrop.classList.remove('is-hidden');\n        body.classList.add('modal-open'); \n        document.addEventListener('keydown', onEscKeyPress); // Закриття по Esc\n        \n    } catch (error) {\n        showToastError(\"Не вдалося відобразити деталі товару.\");\n    }\n}\n\n\n\n\n/** кнопка \"Перейти до замовлення\" */\nfunction onOrderBtnClick(event) {\n    // дані для наступної модалки\n    const productId = event.currentTarget.dataset.productId;\n    const markerValue = event.currentTarget.dataset.marker; \n\n    const selectedColorInput = document.querySelector('.color-options input:checked');\n    const selectedColor = selectedColorInput ? selectedColorInput.value : null;\n\n    if (!productId || !selectedColor) {\n        showToastError(\"Необхідно обрати колір перед замовленням.\");\n        return;\n    }\n    \n    closeModal(); // Закриття моєї модалки\n    \n    //відкриття наступної модалки\n    const orderEvent = new CustomEvent('open-order-modal', {\n        bubbles: true, \n        detail: { \n            productId: productId, \n            selectedColor: selectedColor,\n            markerValue: markerValue\n        }\n    });\n\n    document.body.dispatchEvent(orderEvent); \n}\n\n/** Escape  */\nfunction onEscKeyPress(event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n}\n\n//  за межами вікна\nmodalBackdrop.addEventListener('click', (event) => { \n    if (event.target === modalBackdrop) { closeModal(); } \n});\nmodalCloseBtn.addEventListener('click', closeModal); // кнопка \"Закрити\"\n\n//  Чекаю подію 'open-details-modal' \ndocument.body.addEventListener('open-details-modal', handleOpenDetailsModal);\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst modal = document.getElementById(\"order-modal\");\nconst closeModalBtn = document.getElementById(\"closeModalBtn\");\nconst form = document.getElementById(\"callback-form\");\nlet productId = null;\nlet color = null;\n\ndocument.addEventListener(\"click\", (e) => {\n  const btn = e.target.closest(\".open-order-modal-btn\");\n  if (!btn) return;\n\n\n  productId = btn.dataset.productId;\n  color = btn.dataset.color;\n\n  modal.style.display = \"flex\";\n  document.body.style.overflow = \"hidden\";\n});\n\nfunction closeModal() {\n  modal.style.display = \"none\";\n  document.body.style.overflow = \"\";\n  form.reset();\n  clearErrors();\n}\n\ncloseModalBtn.addEventListener(\"click\", closeModal);\nmodal.addEventListener(\"click\", (e) => {\n  if (e.target === modal) closeModal();\n});\ndocument.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"Escape\" && modal.style.display === \"flex\") closeModal();\n});\n\nfunction showInputError(input, message) {\n  input.style.border = \"1px solid #6b0609\";\n\n  let errorEl = input.parentNode.querySelector(\".input-error-text\");\n  if (!errorEl) {\n    errorEl = document.createElement(\"p\");\n    errorEl.classList.add(\"input-error-text\");\n    input.parentNode.appendChild(errorEl);\n  }\n  errorEl.textContent = message;\n}\n\nfunction clearErrors() {\n  document.querySelectorAll(\".input-error-text\").forEach((e) => e.remove());\n  form.querySelectorAll(\"input, textarea\").forEach((el) => {\n    el.style.border = \"1px solid rgba(8, 12, 9, 0.15)\";\n  });\n}\n\nform.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n  clearErrors();\n\n  const name = form.name.value.trim();\n  let phone = form.phone.value.trim();\n  const comment = form.comment.value.trim();\n\n  let hasError = false;\n\n  if (!name) {\n    showInputError(form.name, \"Error Text\");\n    hasError = true;\n  }\n\n  if (!phone || !/^\\d+$/.test(phone)) {\n    showInputError(form.phone, \"Error Text\");\n    hasError = true;\n  }\n\n  if (hasError) return;\n\n  if (phone.startsWith(\"0\")) phone = \"38\" + phone;\n\n  const orderData = {\n    name,\n    phone,\n    modelId: productId,\n    color,\n    comment: comment || \"Чекатиму на зворотний зв'язок для уточнення деталей. Дякую!\",\n  };\n\n  try {\n    const response = await fetch(\n      \"https://furniture-store-v2.b.goit.study/api/orders\",\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(orderData),\n      }\n    );\n\n    const result = await response.json();\n    console.log(\"Відповідь від сервера:\", result);\n\n    if (!response.ok) {\n      iziToast.error({\n        title: \"Помилка!\",\n        message: result.message || \"Щось пішло не так. Перевірте дані.\",\n        position: \"topRight\",\n      });\n      return;\n    }\n\n    iziToast.success({\n      title: \"Успіх!\",\n      message: `Замовлення №${result.orderNum} успішно створено!`,\n      position: \"topRight\",\n    });\n\n    closeModal();\n  } catch (err) {\n    console.error(\"Помилка при запиті:\", err);\n    iziToast.error({\n      title: \"Помилка!\",\n      message: \"Не вдалося відправити замовлення. Спробуйте пізніше.\",\n      position: \"topRight\",\n    });\n  }\n});\n"],"names":["burger","nav","overlay","isActive","link","btn","targetId","e","target","axios","fetchCategories","categories","error","iziToast","categoriesBoxes","renderCategories","categoryBox","index","furnitureListContainer","categoryContainer","onCategoryClick","event","pickedCategoryCard","categoryId","itemsPage","categoryItems","renderFurnitureList","furnitureList","a","b","furniItem","color","showToastError","message","fetchProductDetails","productId","modalBackdrop","modalContentEl","modalCloseBtn","body","generateRatingStars","rating","generateColorOptions","colors","hexColor","colorId","renderModalContent","details","priceFormatted","imgUrl","onColorChange","styleEl","closeModal","onEscKeyPress","handleOpenDetailsModal","colorForm","onOrderBtnClick","markerValue","selectedColorInput","selectedColor","orderEvent","modal","closeModalBtn","form","clearErrors","showInputError","input","errorEl","el","name","phone","comment","hasError","orderData","response","result","err"],"mappings":"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"}
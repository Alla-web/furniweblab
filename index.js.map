{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/furniture-list.js","../src/js/faq.js","../src/js/feedbacks.js","../src/js/page-spinner.js","../src/js/furniture-details-modal.js","../src/js/order-modal.js","../src/js/scroll.js"],"sourcesContent":["// ==== Mobile Navbar Script ====\n\nconst refs = {\n  menuButton: document.querySelector('[data-mobile-navbar-toggle]'),\n  mobileNavbar: document.querySelector('[data-mobile-navbar]'),\n  overlay: document.querySelector('[data-mobile-navbar-overlay]'),\n  body: document.body,\n};\n\n// Відкрити / закрити меню\nrefs.menuButton.addEventListener('click', toggleMenu);\n\n// Закриття при кліку по overlay\nrefs.overlay.addEventListener('click', closeMenu);\n\n// Закриття при натисканні Escape\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !refs.mobileNavbar.classList.contains('is-hidden')) {\n    closeMenu();\n  }\n});\n\n// Закриття після кліку на пункт меню\nrefs.mobileNavbar.querySelectorAll('.navbar-nav-link').forEach(link => {\n  link.addEventListener('click', closeMenu);\n});\n\n// === Функції ===\nfunction toggleMenu() {\n  const isOpen = !refs.mobileNavbar.classList.contains('is-hidden');\n\n  if (isOpen) {\n    closeMenu();\n  } else {\n    openMenu();\n  }\n}\n\nfunction openMenu() {\n  refs.mobileNavbar.classList.remove('is-hidden');\n  refs.overlay.classList.remove('is-hidden');\n  refs.menuButton.classList.add('is-active');\n  refs.body.classList.add('no-scroll');\n}\n\nfunction closeMenu() {\n  refs.mobileNavbar.classList.add('is-hidden');\n  refs.overlay.classList.add('is-hidden');\n  refs.menuButton.classList.remove('is-active');\n  refs.body.classList.remove('no-scroll');\n}\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//отримуємо список категорій:\n\naxios.defaults.baseURL = 'https://furniture-store-v2.b.goit.study/api';\n\nconst STORAGE_KEY = 'pickedCategoryId';\nconst PREVIOUS_PAGE_KEY = 'previous_page';\n\nfunction showError(error) {\n  iziToast.error({\n    message: `${error.message ?? String(error)}`,\n    position: 'topCenter',\n    timeout: 3000,\n    backgroundColor: '#EF4040',\n    messageColor: 'white',\n    close: false,\n  });\n}\n\nfunction showInfo(info) {\n  iziToast.info({\n    message: `${info}`,\n    position: 'topCenter',\n    timeout: 3000,\n    backgroundColor: '#009b18',\n    messageColor: 'white',\n    close: false,\n  });\n}\n\nconst loader = document.querySelector('.loading');\n\nfunction showLoader() {\n  loader.hidden = false;\n}\n\nfunction hideLoader() {\n  loader.hidden = true;\n}\n\nlocalStorage.removeItem(STORAGE_KEY);\nlocalStorage.removeItem(PREVIOUS_PAGE_KEY);\n\nlet itemsPage = 1;\nlet totalItems = 0;\nlet totalPages = 0;\nconst limit = 8;\nlet maxPage = 1;\nconst screenWidth = window.innerWidth;\n\nconst categoriesBoxes = document.querySelectorAll('.category-card');\nconst furnitureListContainer = document.querySelector('.furniture-list');\nconst categoryContainer = document.querySelector('.category-container');\nconst paginationContainer = document.querySelector('.pagination-container');\nconst loadMoreFurniBtn = document.querySelector('.load-more-button');\nconst swipeBackLi = paginationContainer.querySelector('.back');\nconst swipeNextLi = paginationContainer.querySelector('.next');\nconst backBtn = paginationContainer.querySelector('.pagination-back');\nconst nextBtn = paginationContainer.querySelector('.pagination-next');\n\nfunction updateArrows() {\n  backBtn.disabled = itemsPage <= 1;\n  nextBtn.disabled = itemsPage >= maxPage;\n}\n\nasync function fetchCategories() {\n  try {\n    const { data: categories } = await axios('/categories');\n    return categories;\n  } catch (error) {\n    showError(error);\n  }\n}\n\nfetchCategories();\n\n//промальовуємо назви категорій:\n\nasync function renderCategories(categoriesBoxes) {\n  const categories = await fetchCategories();\n\n  [...categoriesBoxes].forEach((categoryBox, index) => {\n    if (index === 0) {\n      return;\n    }\n\n    categoryBox.dataset.id = categories[index - 1]._id;\n    categoryBox.children[0].textContent = categories[index - 1].name;\n  });\n}\n\nrenderCategories(categoriesBoxes);\n\n// підгружаємо першу партію товарів та пагінацію сторінок:\n\nasync function furnitureFirstLoading() {\n  showLoader();\n\n  try {\n    const { data } = await axios(`/furnitures`, {\n      params: {\n        page: itemsPage,\n        limit,\n      },\n    });\n\n    totalItems = data.totalItems;\n    totalPages = Math.ceil(totalItems / limit);\n    maxPage = totalPages;\n\n    furnitureListContainer.innerHTML = renderFurnitureList(data.furnitures);\n\n    // пагінація, залежно від розмірів екрану\n    if (screenWidth < 768) {\n      paginationContainer.hidden = true;\n      loadMoreFurniBtn.hidden = itemsPage >= totalPages;\n    } else {\n      paginationContainer.hidden = false;\n      renderPaginationPagesList(totalPages);\n    }\n\n    updateArrows();\n  } catch (error) {\n    showError(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nfurnitureFirstLoading();\n\nupdateArrows();\n\n//ловимо клік по категорії, грузимо товари з обраної категорії:\ncategoryContainer.addEventListener('click', onCategoryClick);\n\nasync function onCategoryClick(event) {\n  event.preventDefault();\n\n  showLoader();\n\n  const pickedCategoryCard = event.target.closest('.category-card');\n\n  if (!categoryContainer.contains(pickedCategoryCard) || !pickedCategoryCard) {\n    hideLoader();\n    showInfo('Оберіть, будь-ласка, категорію');\n    return;\n  }\n\n  const pickedCategoryId = pickedCategoryCard.dataset.id ?? null;\n\n  const previousCategoryId = localStorage.getItem(STORAGE_KEY);\n\n  if (pickedCategoryId !== null && pickedCategoryId === previousCategoryId) {\n    showError(\n      'Ви щойно переглядали цю категорію. Перегляньте, будь-ласка, інші наші товари'\n    );\n    hideLoader();\n    return;\n  }\n\n  //плавний скрол з урахуванням висоти хедеру:\n  const scrollTarget = document.getElementById('furniture');\n\n  if (scrollTarget) {\n    const header = document.querySelector('.header');\n    const offset = header?.offsetHeight || 0 + 16; // +16px запас\n    const top =\n      scrollTarget.getBoundingClientRect().top + window.pageYOffset - offset;\n    window.scrollTo({ top, behavior: 'smooth' });\n  }\n\n  itemsPage = 1;\n\n  furnitureListContainer.innerHTML = '';\n\n  if (pickedCategoryId === undefined || pickedCategoryId === null) {\n    localStorage.removeItem(STORAGE_KEY);\n  } else {\n    localStorage.setItem(STORAGE_KEY, pickedCategoryId);\n  }\n\n  try {\n    const { data } = await axios(`/furnitures`, {\n      params: {\n        page: itemsPage,\n        limit,\n        category: pickedCategoryId,\n      },\n    });\n\n    totalItems = data.totalItems;\n    totalPages = Math.ceil(totalItems / limit);\n    maxPage = totalPages;\n\n    furnitureListContainer.innerHTML = renderFurnitureList(data.furnitures);\n\n    // різна пагінація, залежно від розмірів екрану:\n    if (screenWidth < 768) {\n      paginationContainer.hidden = true;\n      loadMoreFurniBtn.hidden = itemsPage >= totalPages;\n    } else {\n      paginationContainer.hidden = false;\n      renderPaginationPagesList(totalPages);\n      updateArrows();\n    }\n  } catch (error) {\n    showError(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction renderFurnitureList(furnitureList) {\n  return furnitureList\n    .sort((a, b) => a.price - b.price)\n    .map(\n      furniItem => `\n        <li class=\"furniture-list-item\">\n            <img class=\"card-image\" src=\"${furniItem.images[0]}\" alt=\"${\n        furniItem.name\n      }\"/>\n            <h3 class=\"card-title\">${furniItem.name}</h3>\n            <ul class=\"card-color-container\">\n                ${(furniItem.color || [])\n                  .map(\n                    color => `\n                    <li\n                    class=\"card-color-item\"\n                    style=\"background-color: ${color};\">1\n                    </li>\n                    `\n                  )\n                  .join('')}               \n            </ul>\n            <p class=\"card-price\">${furniItem.price.toLocaleString()} грн</p>\n            <button \n                class=\"details-button button\" \n                data-id=\"${furniItem._id}\">Детальніше</button>\n        </li>\n    `\n    )\n    .join('');\n}\n\n// пагінація гортанням стрілочок:\n\nfunction renderPaginationPagesList(pagesCount, current = 1) {\n  paginationContainer.hidden = true;\n\n  paginationContainer.innerHTML = '';\n  paginationContainer.append(swipeBackLi, swipeNextLi);\n\n  const paginationItems = getPaginationItems(pagesCount, current);\n\n  paginationItems.forEach(item => {\n    const li = document.createElement('li');\n    li.classList.add('page');\n\n    if (item === '...') {\n      const span = document.createElement('span');\n      span.textContent = '...';\n      span.classList.add('pagination-ellipsis');\n      li.append(span);\n    } else {\n      const btn = document.createElement('button');\n\n      btn.classList.add('pagination-item', 'pag-buttons');\n      btn.type = 'button';\n      btn.textContent = item;\n      btn.dataset.page = item;\n      if (item === current) btn.classList.add('isActive');\n\n      li.classList.add('page');\n      li.append(btn);\n    }\n\n    paginationContainer.lastElementChild.insertAdjacentElement(\n      'beforebegin',\n      li\n    );\n  });\n\n  paginationContainer.hidden = pagesCount <= 1;\n}\n\n// функція, що робить масив сторінок для пагінації:\n\nfunction getPaginationItems(totalPages, currentPage, delta = 1) {\n  // delta - скільки сторінок зліва/справа від поточної показувати\n  const pages = [];\n  const left = currentPage - delta;\n  const right = currentPage + delta;\n\n  let dotsAdded = false;\n\n  for (let i = 1; i <= totalPages; i++) {\n    const isEdge = i === 1 || i === totalPages;\n    const isNearCurrent = i >= left && i <= right;\n\n    if (isEdge || isNearCurrent) {\n      pages.push(i);\n      dotsAdded = false; // після цифри знову вставити \"...\"\n    } else if (!dotsAdded) {\n      pages.push('...');\n      dotsAdded = true; // вставили крапки один раз на цей проміжок\n    }\n  }\n\n  return pages;\n}\n\n// пагінація по натисканню на кнопку:\n\nloadMoreFurniBtn.addEventListener('click', onLoadMoreFfurniBtnClick);\n\nasync function onLoadMoreFfurniBtnClick(event) {\n  furnitureListContainer.insertAdjacentElement('beforeend', loader);\n  showLoader();\n\n  itemsPage++;\n  const categoryId = localStorage.getItem(STORAGE_KEY);\n\n  try {\n    const { data } = await axios(`/furnitures`, {\n      params: {\n        page: itemsPage,\n        limit,\n        category: categoryId,\n      },\n    });\n\n    totalItems = data.totalItems;\n    totalPages = Math.ceil(totalItems / limit);\n    maxPage = totalPages;\n\n    itemsPage = Number(data.page);\n\n    if (itemsPage < totalPages) {\n      furnitureListContainer.insertAdjacentHTML(\n        'beforeend',\n        renderFurnitureList(data.furnitures)\n      );\n      loadMoreFurniBtn.hidden = false;\n    } else {\n      showInfo('В даній категорії закінчилися товари');\n      loadMoreFurniBtn.hidden = true;\n    }\n\n    // плавний скролл\n    const furniListItem = furnitureListContainer.querySelector(\n      '.furniture-list-item'\n    );\n\n    if (furniListItem) {\n      window.scrollBy({\n        left: 0,\n        top: furniListItem.getBoundingClientRect().height,\n        behavior: 'smooth',\n      });\n    }\n\n    hideLoader();\n  } catch (error) {\n    showError(error);\n  }\n}\n\n//лоадимо при натисканні на кнопки пагінації (вперед/назад)\ndocument\n  .querySelector('.pagination-container')\n  .addEventListener('click', async event => {\n    const pageBtn = event.target.closest('[data-page]');\n    const navBtn = event.target.closest('[data-nav]');\n\n    // клік не по пагінації\n    if (!pageBtn && !navBtn) return;\n\n    //клік по заблокованій кнопці\n    const currentBtn = pageBtn || navBtn;\n    if (currentBtn.disabled) return;\n\n    showLoader();\n    disablePaginationButtons();\n\n    // клік по номеру сторінки\n    if (pageBtn) {\n      itemsPage = Number(pageBtn.dataset.page);\n    }\n\n    if (navBtn) {\n      if (navBtn.dataset.nav === 'minus' && itemsPage > 1) {\n        itemsPage--;\n      }\n\n      if (navBtn.dataset.nav === 'plus' && itemsPage < maxPage) {\n        itemsPage++;\n      }\n    }\n\n    currentBtn.blur();\n\n    if (!itemsPage || Number.isNaN(itemsPage)) {\n      showInfo('Виберіть будь-ласка сторінку для заванатаження товарів');\n      enablePaginationButtons();\n      hideLoader();\n      return;\n    }\n\n    const categoryId = localStorage.getItem(STORAGE_KEY);\n\n    try {\n      const { data } = await axios('/furnitures', {\n        params: {\n          page: itemsPage,\n          limit,\n          category: categoryId,\n        },\n      });\n\n      furnitureListContainer.innerHTML = renderFurnitureList(data.furnitures);\n\n      // Тільки після успішного запиту оновлюємо пагінацію\n      totalItems = data.totalItems;\n      totalPages = Math.ceil(totalItems / limit);\n      maxPage = totalPages;\n\n      renderPaginationPagesList(totalPages, itemsPage);\n      updateArrows();\n\n      //показуємо/ховаємо кнопки гортання сторінок пагінації\n      const currentBtn = event.target;\n      if (!currentBtn || currentBtn.disabled) return;\n\n      // плавний скролл до початку контейнера з меблями\n      if (furnitureListContainer) {\n        furnitureListContainer.scrollIntoView({\n          block: 'start', // до початку блока піднімаємось\n          behavior: 'smooth',\n        });\n      }\n    } catch (error) {\n      showError(error);\n    } finally {\n      enablePaginationButtons();\n      hideLoader();\n    }\n  });\n\nfunction disablePaginationButtons() {\n  paginationContainer\n    .querySelectorAll('.pag-buttons')\n    .forEach(button => (button.disabled = true));\n}\n\nfunction enablePaginationButtons() {\n  paginationContainer\n    .querySelectorAll('.pag-buttons')\n    .forEach(button => (button.disabled = false));\n  updateArrows();\n}\n","\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nnew Accordion('.qa', {\n  duration: 300, \n  showMultiple: false, \n  openOnInit: [], \n});\n\nconst faqButtons = document.querySelectorAll('.faq-quest');\n\nfaqButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    const expanded = button.getAttribute('aria-expanded') === 'true';\n    \n    faqButtons.forEach(btn => btn.setAttribute('aria-expanded', 'false'));\n    \n    if (!expanded) {\n      button.setAttribute('aria-expanded', 'true');\n    }\n  });\n});","import axios from 'axios';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/swiper-bundle.css';\n\nconst spriteUrl = new URL('../img/sprite.svg', import.meta.url).href;\nconst feedbacksList = document.querySelector('.feedbacks-list');\n\nfeedbacksList.innerHTML = `\n  <div class=\"swiper\">\n    <div class=\"swiper-wrapper\"></div>\n\n    <div class=\"swiper-controls\">\n      <div class=\"swiper-pagination\"></div>\n  \n      <div class=\"swiper-nav-btn\">\n        <button class=\"general-btn custom-prev\"><svg class=\"\" width=\"14\" height=\"14\">\n        <use href=\"${spriteUrl}#icon-arrow-left\"></use>\n        </svg></button>\n        <button class=\"general-btn custom-next\"><svg class=\"\" width=\"14\" height=\"14\">\n        <use href=\"${spriteUrl}#icon-arrow-right\"></use>\n        </svg></button>\n      </div>\n    </div>\n\n  </div>\n`;\n\nconst wrapper = document.querySelector('.swiper .swiper-wrapper');\n\n\nfunction generateRatingStars(rating) {\n  if (rating === undefined || rating === null) {\n    return '';\n  }\n\n  const roundedRating = Math.round(rating * 2) / 2;\n\n  const integerValue = Math.floor(roundedRating);\n\n  const hasHalfStar = roundedRating - integerValue === 0.5;\n\n  let classList = `rating value-${integerValue}`;\n  if (hasHalfStar) {\n    classList += ' half';\n  }\n\n  return `\n        <div class=\"${classList}\">\n            <div class=\"star-container\"></div>\n        </div>\n    `;\n}\n\nexport async function getFeedbacks() {\n  try {\n    const feedbacks = await axios(\n      'https://furniture-store-v2.b.goit.study/api/feedbacks?limit=10&page=1'\n    );\n\n    return feedbacks.data;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\ngetFeedbacks().then(data => {\n  data.feedbacks.forEach(feedback => {\n    const slide = `\n      <div class=\"swiper-slide\">\n        <div class=\"feedback-card\">\n          ${generateRatingStars(feedback.rate)}\n          <p class=\"swiper-text\">“${feedback.descr}”</p>\n          <p class=\"swiper-text-name\">${feedback.name}</p>\n        </div>\n      </div>\n    `;\n    wrapper.insertAdjacentHTML('beforeend', slide);\n  });\n \n  const swiper = new Swiper('.swiper', {\n    loop: false,\n    slidesPerView: 1,\n    spaceBetween: 24,\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n      type: 'bullets',\n    },\n    navigation: {\n      prevEl: '.custom-prev',\n      nextEl: '.custom-next',\n    },\n    breakpoints: {\n      768: {\n      slidesPerView: 2, \n      spaceBetween: 24, \n    },\n      1440: {\n        slidesPerView: 3, \n      spaceBetween: 24\n      }\n  },\n  });\n})\n.catch(error => {\n  console.error('Помилка при ініціалізації слайдера відгуків:', error);\n  feedbacksList.innerHTML = `<p style=\"color: red;\">\n      Неможливо завантажити відгуки. Будь ласка, спробуйте оновити сторінку.\n    </p>`;\n})\n","export function showPageSpinner() {\n  if (document.querySelector('#page-spinner')) {\n    return;\n  }\n\n  // Заблурений оверлей\n  const overlay = document.createElement('div');\n  overlay.id = 'page-spinner';\n  overlay.setAttribute('role', 'status');\n  overlay.setAttribute('aria-live', 'polite');\n  overlay.innerHTML = `\n      <div class=\"spinner\" aria-label=\"Завантаження…\">\n        <button class=\"loadingBtn\" type=\"button\">\n            <span class=\"loader\" id=\"btnSpinner\"></span>\n        </button>\n      </div>\n    `;\n\n  document.body.appendChild(overlay);\n\n  document.body.classList.add('no-scroll');\n}\n\nexport function hidePageSpinner() {\n  const pageSpinnerOverlay = document.getElementById('page-spinner');\n  if (pageSpinnerOverlay) {\n    pageSpinnerOverlay.remove();\n\n    document.body.classList.remove('no-scroll');\n  }\n}\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { showPageSpinner, hidePageSpinner } from './page-spinner';\n\naxios.defaults.baseURL = 'https://furniture-store-v2.b.goit.study/api';\n\n// спіннер\n\n// помилки\nfunction showToastError(message) {\n  iziToast.error({\n    message: message,\n    position: 'topCenter',\n    timeout: 3000,\n    backgroundColor: '#EF4040',\n    messageColor: 'white',\n    close: false,\n  });\n}\n\n//  Запит зa ID\nasync function fetchProductDetails(productId) {\n  try {\n    const response = await axios.get(`/furnitures/${productId}`);\n    return response.data;\n  } catch (error) {\n    console.error(\n      `Помилка при отриманні деталей продукту з ID ${productId}:`,\n      error\n    );\n    throw error;\n  }\n}\n\n// отримую змінні з дому\nconst modalBackdrop = document.querySelector('.product-modal-backdrop');\nconst modalContentEl = document.querySelector(\n  '.product-modal .modal-main-content'\n);\nconst modalCloseBtn = document.querySelector('.modal-close-btn');\nconst body = document.body;\n\n// функція рейтингу,на основі бібліотеки\nfunction generateRatingStars(rating) {\n  if (rating === undefined || rating === null) {\n    return '';\n  }\n\n  const roundedRating = Math.round(rating * 2) / 2;\n\n  const integerValue = Math.floor(roundedRating);\n\n  const hasHalfStar = roundedRating - integerValue === 0.5;\n\n  let classList = `rating value-${integerValue}`;\n  if (hasHalfStar) {\n    classList += ' half';\n  }\n\n  return `\n        <div class=\"${classList}\">\n            <div class=\"star-container\"></div>\n        </div>\n    `;\n}\n\n// маркери кольору(акцент на першому)\nfunction generateColorOptions(colors) {\n  const colorOptionsHTML = colors\n    .map((hexColor, index) => {\n      const colorId = `color-${hexColor.substring(1)}`;\n      const isActive = index === 0 ? 'checked' : '';\n      const activeClass = index === 0 ? 'is-active' : '';\n      return `\n            <label class=\"color-option\">\n                <input\n                  type=\"radio\"\n                  name=\"product-color\"\n                  value=\"${hexColor}\" \n                  id=\"${colorId}\"                    \n                  class=\"custom-radio-style ${activeClass}\" \n                  style=\"\n                    -webkit-appearance:none;\n                    appearance:none;\n                    width: 32px;\n                    height: 32px;\n                    background-color: ${hexColor}; \n                    cursor:pointer; \n                    display:inline-block;\"\n                  data-color-hex=${hexColor}; \n                  ${index === 0 ? 'checked' : ''}                      \n                  />\n                           \n            </label>\n        `;\n    })\n    .join('');\n\n  return `<div class=\"color-options-container\">\n            <p class=\"color-label\">Колір</p>\n            <form class=\"color-options\">${colorOptionsHTML}</form>\n          </div>`;\n}\n\n// створення розмітки\nfunction renderModalContent(details) {\n  const priceFormatted = details.price.toLocaleString() + ' грн';\n  return `\n        <div class=\"product-gallery\">\n            <img\n              src=\"${details.images[0]}\" alt=\"${details.name} (Основне)\" \n              class=\"main-product-image\" \n            />\n            <div class=\"gallery-thumbnails\">\n                 ${details.images\n                   .slice(1)\n                   .map(\n                     imgUrl =>\n                       `<img src=\"${imgUrl}\" alt=\"${details.name} (Мініатюра)\" class=\"gallery-thumbnail\">`\n                   )\n                   .join('')}\n            </div>\n        </div>\n        \n        <div class=\"product-info\">\n            <h2 class=\"model-name\">${details.name}</h2> \n            <p class=\"category-name\">${details.category.name}</p> \n            <p class=\"product-price\">\n              <span class=\"price-value\">${priceFormatted}</span>\n              <span class=\"price-currency\"></span>\n            </p>\n            <div class=\"stars-container\">${generateRatingStars(details.rate)} \n                  ${generateColorOptions(details.color)} \n            </div>            \n            <div class=\"product-details\">\n                <p class=\"description-text\">${details.description}</p> \n                <p class=\"dimensions-text\">Розміри: ${details.sizes} см</p> \n            </div>\n            \n            <button \n                class=\"button order-btn open-order-modal-btn\" \n                type=\"button\"\n                data-product-id=\"${details._id}\"      \n                data-marker=\"details_page_order\"\n                >  \n                Перейти до замовлення\n            </button>\n        </div>\n    `;\n}\n\n// маркери\nfunction onColorChange(event) {\n  if (!event.target.matches('input[name=\"product-color\"]')) return;\n\n  const optionsContainer = event.currentTarget;\n\n  // переключаємо клас 'is-active' з усіх елементів\n  optionsContainer\n    .querySelectorAll('input[name=\"product-color\"]')\n    .forEach(styleEl =>\n      styleEl.classList.toggle('is-active', styleEl === event.target)\n    );\n}\n\n// інформація на основі якої відкрила модалку\nasync function handleOpenDetailsModal(event) {\n  const productId = event.detail.productId;\n\n  try {\n    const details = await fetchProductDetails(productId);\n\n    modalContentEl.innerHTML = renderModalContent(details);\n\n    //  слухаю динамічні елементи\n    const colorForm = document.querySelector('.product-modal .color-options');\n    if (colorForm) {\n      colorForm.addEventListener('change', onColorChange);\n    }\n    document\n      .querySelector('.product-modal .open-order-modal-btn')\n      .addEventListener('click', onOrderBtnClick); // 123\n\n    // Відкриття модалки\n    modalBackdrop.classList.remove('is-hidden');\n    body.classList.add('modal-open');\n    document.addEventListener('keydown', onEscKeyPress); // Закриття по Esc\n\n    //повідомили, що модалка готова\n    document.body.dispatchEvent(\n      new CustomEvent('details-modal-opened', { bubbles: true })\n    );\n  } catch (error) {\n    showToastError('Не вдалося відобразити деталі товару.');\n  } finally {\n    hidePageSpinner();\n  }\n}\n\n// ф-ція закриття модолки\nfunction closeModal() {\n  modalBackdrop.classList.add('is-hidden');\n  body.classList.remove('modal-open');\n  document.removeEventListener('keydown', onEscKeyPress);\n  modalContentEl.innerHTML = '';\n\n  // повідомити про закриття\n  document.body.dispatchEvent(\n    new CustomEvent('details-modal-closed', { bubbles: true })\n  );\n}\n\n/** кнопка \"Перейти до замовлення\" */\nfunction onOrderBtnClick(event) {\n  // дані для наступної модалки\n  const productId = event.currentTarget.dataset.productId;\n  const markerValue = event.currentTarget.dataset.marker;\n\n  const selectedColorInput = document.querySelector(\n    '.color-options input:checked'\n  );\n  const selectedColor = selectedColorInput ? selectedColorInput.value : null;\n\n  if (!productId || !selectedColor) {\n    showToastError('Необхідно обрати колір перед замовленням.');\n    return;\n  }\n\n  closeModal(); // Закриття моєї модалки\n\n  //відкриття наступної модалки\n  const orderEvent = new CustomEvent('open-order-modal', {\n    bubbles: true,\n    detail: {\n      productId: productId,\n      selectedColor: selectedColor,\n      markerValue: markerValue,\n    },\n  });\n\n  document.body.dispatchEvent(orderEvent);\n}\n\n/** Escape  */\nfunction onEscKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\n//  за межами вікна\nmodalBackdrop.addEventListener('click', event => {\n  if (event.target === modalBackdrop) {\n    closeModal();\n  }\n});\nmodalCloseBtn.addEventListener('click', closeModal); // кнопка \"Закрити\"\n\n//  Чекаю подію 'open-details-modal'\ndocument.body.addEventListener('open-details-modal', handleOpenDetailsModal);\n\n// Слухачі для приховування спінера\ndocument.body.addEventListener('details-modal-opened', hidePageSpinner);\ndocument.body.addEventListener('details-modal-closed', hidePageSpinner);\n\nfunction onGlobalDetailsClick(event) {\n  const detailsButton = event.target.closest('.details-button');\n\n  // моя кнопка з ID?\n  if (!detailsButton || !detailsButton.dataset.id) {\n    return;\n  }\n\n  event.preventDefault();\n  showPageSpinner();\n\n  const productId = detailsButton.dataset.id;\n\n  // викликаю подію щоб відкрити модалку\n  const detailsEvent = new CustomEvent('open-details-modal', {\n    bubbles: true,\n    detail: {\n      productId: productId,\n    },\n  });\n\n  // диспатчимо івент\n  document.body.dispatchEvent(detailsEvent);\n}\n\ndocument.body.addEventListener('click', onGlobalDetailsClick);\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { showPageSpinner, hidePageSpinner } from './page-spinner.js';\n\nconst modalLoader = document.querySelector('#order-modal .loading');\n\nconst modal = document.getElementById('order-modal');\nconst closeModalBtn = document.getElementById('closeModalBtn');\nconst form = document.getElementById('callback-form');\nlet productId = null;\nlet color = null;\n\nfunction showModalLoader() {\n  if (modalLoader) modalLoader.style.display = 'flex';\n}\n\nfunction hideModalLoader() {\n  if (modalLoader) modalLoader.style.display = 'none';\n}\n\ndocument.body.addEventListener('open-order-modal', e => {\n  const { productId: id, selectedColor } = e.detail;\n\n  productId = id;\n  color = selectedColor;\n\n  showPageSpinner();\n\n  modal.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n\n  setTimeout(() => {\n    hidePageSpinner();\n    document.body.style.overflow = 'hidden';\n  }, 200);\n});\n\nfunction closeModal() {\n  modal.style.display = 'none';\n  document.body.style.overflow = '';\n  form.reset();\n  clearErrors();\n}\n\ncloseModalBtn.addEventListener('click', closeModal);\nmodal.addEventListener('click', e => {\n  if (e.target === modal) closeModal();\n});\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && modal.style.display === 'flex') closeModal();\n});\n\nfunction showInputError(input, message) {\n  input.style.border = '1px solid #6b0609';\n\n  let errorEl = input.parentNode.querySelector('.input-error-text');\n  if (!errorEl) {\n    errorEl = document.createElement('p');\n    errorEl.classList.add('input-error-text');\n    input.parentNode.appendChild(errorEl);\n  }\n  errorEl.textContent = message;\n}\n\nfunction clearErrors() {\n  document.querySelectorAll('.input-error-text').forEach(e => e.remove());\n  form.querySelectorAll('input, textarea').forEach(el => {\n    el.style.border = '1px solid rgba(8, 12, 9, 0.15)';\n  });\n}\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  clearErrors();\n\n  const name = form.name.value.trim();\n  let phone = form.phone.value.trim();\n  const comment = form.comment.value.trim();\n\n  let hasError = false;\n\n  if (!name) {\n    showInputError(form.name, 'Error Text');\n    hasError = true;\n  }\n\n  if (!phone || !/^(\\d{10}|\\d{12})$/.test(phone)) {\n    showInputError(form.phone, 'Error Text');\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Номер має містити лише 10 або 12 цифр.',\n      position: 'topRight',\n      timeout: 4000,\n      color: '#EF4040',\n      messageColor: 'white',\n    });\n    hasError = true;\n  }\n\n  if (hasError) return;\n\n  if (phone.length === 10 && phone.startsWith('0')) {\n    phone = '38' + phone;\n  }\n\n  const orderData = {\n    name,\n    phone,\n    modelId: productId,\n    color,\n    comment:\n      comment || \"Чекатиму на зворотний зв'язок для уточнення деталей. Дякую!\",\n  };\n\n  try {\n    showModalLoader();\n    const response = await fetch(\n      'https://furniture-store-v2.b.goit.study/api/orders',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(orderData),\n      }\n    );\n\n    const result = await response.json();\n    console.log('Відповідь від сервера:', result);\n\n    if (!response.ok) {\n      iziToast.error({\n        title: 'Помилка!',\n        message: result.message || 'Щось пішло не так. Перевірте дані.',\n        position: 'topRight',\n        color: '#EF4040',\n        messageColor: 'white',\n      });\n      return;\n    }\n\n    iziToast.success({\n      title: 'Успіх!',\n      message: `Замовлення №${result.orderNum} успішно створено!`,\n      position: 'topRight',\n      color: '#009b18',\n      messageColor: 'white',\n    });\n\n    closeModal();\n  } catch (err) {\n    console.error('Помилка при запиті:', err);\n    iziToast.error({\n      title: 'Помилка!',\n      message: 'Не вдалося відправити замовлення. Спробуйте пізніше.',\n      position: 'topRight',\n      color: '#EF4040',\n      messageColor: 'white',\n    });\n  } finally {\n    hideModalLoader();\n  }\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const scrollLinks = document.querySelectorAll('.js-scroll');\n\n  scrollLinks.forEach(link => {\n    const href = link.getAttribute('href');\n    if (href && href.startsWith('#')) {\n      link.addEventListener('click', e => {\n        e.preventDefault();\n\n        const targetId = href;\n        const targetElement = document.querySelector(targetId);\n\n        if (targetElement) {\n          targetElement.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start',\n          });\n        }\n        link.blur();\n      });\n    }\n  });\n});\n"],"names":["refs","toggleMenu","closeMenu","link","openMenu","axios","STORAGE_KEY","PREVIOUS_PAGE_KEY","showError","error","iziToast","showInfo","info","loader","showLoader","hideLoader","itemsPage","totalItems","totalPages","limit","maxPage","screenWidth","categoriesBoxes","furnitureListContainer","categoryContainer","paginationContainer","loadMoreFurniBtn","swipeBackLi","swipeNextLi","backBtn","nextBtn","updateArrows","fetchCategories","categories","renderCategories","categoryBox","index","furnitureFirstLoading","data","renderFurnitureList","renderPaginationPagesList","onCategoryClick","event","pickedCategoryCard","pickedCategoryId","previousCategoryId","scrollTarget","header","offset","top","furnitureList","a","b","furniItem","color","pagesCount","current","getPaginationItems","item","li","span","btn","currentPage","delta","pages","left","right","dotsAdded","i","isEdge","isNearCurrent","onLoadMoreFfurniBtnClick","categoryId","furniListItem","pageBtn","navBtn","currentBtn","disablePaginationButtons","enablePaginationButtons","button","Accordion","faqButtons","expanded","spriteUrl","feedbacksList","wrapper","generateRatingStars","rating","roundedRating","integerValue","hasHalfStar","classList","getFeedbacks","feedback","slide","Swiper","showPageSpinner","overlay","hidePageSpinner","pageSpinnerOverlay","showToastError","message","fetchProductDetails","productId","modalBackdrop","modalContentEl","modalCloseBtn","body","generateColorOptions","colors","hexColor","colorId","renderModalContent","details","priceFormatted","imgUrl","onColorChange","styleEl","handleOpenDetailsModal","colorForm","onOrderBtnClick","onEscKeyPress","closeModal","markerValue","selectedColorInput","selectedColor","orderEvent","onGlobalDetailsClick","detailsButton","detailsEvent","modalLoader","modal","closeModalBtn","form","showModalLoader","hideModalLoader","id","clearErrors","showInputError","input","errorEl","el","name","phone","comment","hasError","orderData","response","result","err","href","e","targetId","targetElement"],"mappings":"6wBAEA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,6BAA6B,EAChE,aAAc,SAAS,cAAc,sBAAsB,EAC3D,QAAS,SAAS,cAAc,8BAA8B,EAC9D,KAAM,SAAS,IACjB,EAGAA,EAAK,WAAW,iBAAiB,QAASC,EAAU,EAGpDD,EAAK,QAAQ,iBAAiB,QAASE,CAAS,EAGhD,OAAO,iBAAiB,UAAW,GAAK,CAClC,EAAE,MAAQ,UAAY,CAACF,EAAK,aAAa,UAAU,SAAS,WAAW,GACzEE,GAEJ,CAAC,EAGDF,EAAK,aAAa,iBAAiB,kBAAkB,EAAE,QAAQG,GAAQ,CACrEA,EAAK,iBAAiB,QAASD,CAAS,CAC1C,CAAC,EAGD,SAASD,IAAa,CACL,CAACD,EAAK,aAAa,UAAU,SAAS,WAAW,EAG9DE,IAEAE,IAEJ,CAEA,SAASA,IAAW,CAClBJ,EAAK,aAAa,UAAU,OAAO,WAAW,EAC9CA,EAAK,QAAQ,UAAU,OAAO,WAAW,EACzCA,EAAK,WAAW,UAAU,IAAI,WAAW,EACzCA,EAAK,KAAK,UAAU,IAAI,WAAW,CACrC,CAEA,SAASE,GAAY,CACnBF,EAAK,aAAa,UAAU,IAAI,WAAW,EAC3CA,EAAK,QAAQ,UAAU,IAAI,WAAW,EACtCA,EAAK,WAAW,UAAU,OAAO,WAAW,EAC5CA,EAAK,KAAK,UAAU,OAAO,WAAW,CACxC,CC3CAK,EAAM,SAAS,QAAU,8CAEzB,MAAMC,EAAc,mBACdC,GAAoB,gBAE1B,SAASC,EAAUC,EAAO,CACxBC,EAAS,MAAM,CACb,QAAS,GAAGD,EAAM,SAAW,OAAOA,CAAK,CAAC,GAC1C,SAAU,YACV,QAAS,IACT,gBAAiB,UACjB,aAAc,QACd,MAAO,EACX,CAAG,CACH,CAEA,SAASE,EAASC,EAAM,CACtBF,EAAS,KAAK,CACZ,QAAS,GAAGE,CAAI,GAChB,SAAU,YACV,QAAS,IACT,gBAAiB,UACjB,aAAc,QACd,MAAO,EACX,CAAG,CACH,CAEA,MAAMC,EAAS,SAAS,cAAc,UAAU,EAEhD,SAASC,GAAa,CACpBD,EAAO,OAAS,EAClB,CAEA,SAASE,GAAa,CACpBF,EAAO,OAAS,EAClB,CAEA,aAAa,WAAWP,CAAW,EACnC,aAAa,WAAWC,EAAiB,EAEzC,IAAIS,EAAY,EACZC,EAAa,EACbC,EAAa,EACjB,MAAMC,EAAQ,EACd,IAAIC,EAAU,EACd,MAAMC,EAAc,OAAO,WAErBC,GAAkB,SAAS,iBAAiB,gBAAgB,EAC5DC,EAAyB,SAAS,cAAc,iBAAiB,EACjEC,EAAoB,SAAS,cAAc,qBAAqB,EAChEC,EAAsB,SAAS,cAAc,uBAAuB,EACpEC,EAAmB,SAAS,cAAc,mBAAmB,EAC7DC,GAAcF,EAAoB,cAAc,OAAO,EACvDG,GAAcH,EAAoB,cAAc,OAAO,EACvDI,GAAUJ,EAAoB,cAAc,kBAAkB,EAC9DK,GAAUL,EAAoB,cAAc,kBAAkB,EAEpE,SAASM,GAAe,CACtBF,GAAQ,SAAWb,GAAa,EAChCc,GAAQ,SAAWd,GAAaI,CAClC,CAEA,eAAeY,GAAkB,CAC/B,GAAI,CACF,KAAM,CAAE,KAAMC,CAAU,EAAK,MAAM5B,EAAM,aAAa,EACtD,OAAO4B,CACR,OAAQxB,EAAO,CACdD,EAAUC,CAAK,CAChB,CACH,CAEAuB,IAIA,eAAeE,GAAiBZ,EAAiB,CAC/C,MAAMW,EAAa,MAAMD,IAEzB,CAAC,GAAGV,CAAe,EAAE,QAAQ,CAACa,EAAaC,IAAU,CAC/CA,IAAU,IAIdD,EAAY,QAAQ,GAAKF,EAAWG,EAAQ,CAAC,EAAE,IAC/CD,EAAY,SAAS,CAAC,EAAE,YAAcF,EAAWG,EAAQ,CAAC,EAAE,KAChE,CAAG,CACH,CAEAF,GAAiBZ,EAAe,EAIhC,eAAee,IAAwB,CACrCvB,IAEA,GAAI,CACF,KAAM,CAAE,KAAAwB,CAAM,EAAG,MAAMjC,EAAM,cAAe,CAC1C,OAAQ,CACN,KAAMW,EACN,MAAAG,CACD,CACP,CAAK,EAEDF,EAAaqB,EAAK,WAClBpB,EAAa,KAAK,KAAKD,EAAaE,CAAK,EACzCC,EAAUF,EAEVK,EAAuB,UAAYgB,EAAoBD,EAAK,UAAU,EAGlEjB,EAAc,KAChBI,EAAoB,OAAS,GAC7BC,EAAiB,OAASV,GAAaE,IAEvCO,EAAoB,OAAS,GAC7Be,EAA0BtB,CAAU,GAGtCa,GACD,OAAQtB,EAAO,CACdD,EAAUC,CAAK,CACnB,QAAY,CACRM,GACD,CACH,CAEAsB,KAEAN,IAGAP,EAAkB,iBAAiB,QAASiB,EAAe,EAE3D,eAAeA,GAAgBC,EAAO,CACpCA,EAAM,eAAc,EAEpB5B,IAEA,MAAM6B,EAAqBD,EAAM,OAAO,QAAQ,gBAAgB,EAEhE,GAAI,CAAClB,EAAkB,SAASmB,CAAkB,GAAK,CAACA,EAAoB,CAC1E5B,IACAJ,EAAS,gCAAgC,EACzC,MACD,CAED,MAAMiC,EAAmBD,EAAmB,QAAQ,IAAM,KAEpDE,EAAqB,aAAa,QAAQvC,CAAW,EAE3D,GAAIsC,IAAqB,MAAQA,IAAqBC,EAAoB,CACxErC,EACE,8EACN,EACIO,IACA,MACD,CAGD,MAAM+B,EAAe,SAAS,eAAe,WAAW,EAExD,GAAIA,EAAc,CAChB,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,GAASD,GAAA,YAAAA,EAAQ,eAAgB,GACjCE,EACJH,EAAa,sBAAqB,EAAG,IAAM,OAAO,YAAcE,EAClE,OAAO,SAAS,CAAE,IAAAC,EAAK,SAAU,QAAU,CAAA,CAC5C,CAEDjC,EAAY,EAEZO,EAAuB,UAAY,GAEGqB,GAAqB,KACzD,aAAa,WAAWtC,CAAW,EAEnC,aAAa,QAAQA,EAAasC,CAAgB,EAGpD,GAAI,CACF,KAAM,CAAE,KAAAN,CAAM,EAAG,MAAMjC,EAAM,cAAe,CAC1C,OAAQ,CACN,KAAMW,EACN,MAAAG,EACA,SAAUyB,CACX,CACP,CAAK,EAED3B,EAAaqB,EAAK,WAClBpB,EAAa,KAAK,KAAKD,EAAaE,CAAK,EACzCC,EAAUF,EAEVK,EAAuB,UAAYgB,EAAoBD,EAAK,UAAU,EAGlEjB,EAAc,KAChBI,EAAoB,OAAS,GAC7BC,EAAiB,OAASV,GAAaE,IAEvCO,EAAoB,OAAS,GAC7Be,EAA0BtB,CAAU,EACpCa,IAEH,OAAQtB,EAAO,CACdD,EAAUC,CAAK,CACnB,QAAY,CACRM,GACD,CACH,CAEA,SAASwB,EAAoBW,EAAe,CAC1C,OAAOA,EACJ,KAAK,CAACC,EAAGC,IAAMD,EAAE,MAAQC,EAAE,KAAK,EAChC,IACCC,GAAa;AAAA;AAAA,2CAEwBA,EAAU,OAAO,CAAC,CAAC,UACtDA,EAAU,IACX;AAAA,qCAC8BA,EAAU,IAAI;AAAA;AAAA,mBAEhCA,EAAU,OAAS,CAAE,GACrB,IACCC,GAAS;AAAA;AAAA;AAAA,+CAGkBA,CAAK;AAAA;AAAA,qBAGjC,EACA,KAAK,EAAE,CAAC;AAAA;AAAA,oCAESD,EAAU,MAAM,gBAAgB;AAAA;AAAA;AAAA,2BAGzCA,EAAU,GAAG;AAAA;AAAA,KAGnC,EACA,KAAK,EAAE,CACZ,CAIA,SAASb,EAA0Be,EAAYC,EAAU,EAAG,CAC1D/B,EAAoB,OAAS,GAE7BA,EAAoB,UAAY,GAChCA,EAAoB,OAAOE,GAAaC,EAAW,EAE3B6B,GAAmBF,EAAYC,CAAO,EAE9C,QAAQE,GAAQ,CAC9B,MAAMC,EAAK,SAAS,cAAc,IAAI,EAGtC,GAFAA,EAAG,UAAU,IAAI,MAAM,EAEnBD,IAAS,MAAO,CAClB,MAAME,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,YAAc,MACnBA,EAAK,UAAU,IAAI,qBAAqB,EACxCD,EAAG,OAAOC,CAAI,CACpB,KAAW,CACL,MAAMC,EAAM,SAAS,cAAc,QAAQ,EAE3CA,EAAI,UAAU,IAAI,kBAAmB,aAAa,EAClDA,EAAI,KAAO,SACXA,EAAI,YAAcH,EAClBG,EAAI,QAAQ,KAAOH,EACfA,IAASF,GAASK,EAAI,UAAU,IAAI,UAAU,EAElDF,EAAG,UAAU,IAAI,MAAM,EACvBA,EAAG,OAAOE,CAAG,CACd,CAEDpC,EAAoB,iBAAiB,sBACnC,cACAkC,CACN,CACA,CAAG,EAEDlC,EAAoB,OAAS8B,GAAc,CAC7C,CAIA,SAASE,GAAmBvC,EAAY4C,EAAaC,EAAQ,EAAG,CAE9D,MAAMC,EAAQ,CAAA,EACRC,EAAOH,EAAcC,EACrBG,EAAQJ,EAAcC,EAE5B,IAAII,EAAY,GAEhB,QAASC,EAAI,EAAGA,GAAKlD,EAAYkD,IAAK,CACpC,MAAMC,EAASD,IAAM,GAAKA,IAAMlD,EAC1BoD,EAAgBF,GAAKH,GAAQG,GAAKF,EAEpCG,GAAUC,GACZN,EAAM,KAAKI,CAAC,EACZD,EAAY,IACFA,IACVH,EAAM,KAAK,KAAK,EAChBG,EAAY,GAEf,CAED,OAAOH,CACT,CAIAtC,EAAiB,iBAAiB,QAAS6C,EAAwB,EAEnE,eAAeA,GAAyB7B,EAAO,CAC7CnB,EAAuB,sBAAsB,YAAaV,CAAM,EAChEC,IAEAE,IACA,MAAMwD,EAAa,aAAa,QAAQlE,CAAW,EAEnD,GAAI,CACF,KAAM,CAAE,KAAAgC,CAAM,EAAG,MAAMjC,EAAM,cAAe,CAC1C,OAAQ,CACN,KAAMW,EACN,MAAAG,EACA,SAAUqD,CACX,CACP,CAAK,EAEDvD,EAAaqB,EAAK,WAClBpB,EAAa,KAAK,KAAKD,EAAaE,CAAK,EACzCC,EAAUF,EAEVF,EAAY,OAAOsB,EAAK,IAAI,EAExBtB,EAAYE,GACdK,EAAuB,mBACrB,YACAgB,EAAoBD,EAAK,UAAU,CAC3C,EACMZ,EAAiB,OAAS,KAE1Bf,EAAS,sCAAsC,EAC/Ce,EAAiB,OAAS,IAI5B,MAAM+C,EAAgBlD,EAAuB,cAC3C,sBACN,EAEQkD,GACF,OAAO,SAAS,CACd,KAAM,EACN,IAAKA,EAAc,sBAAqB,EAAG,OAC3C,SAAU,QAClB,CAAO,EAGH1D,GACD,OAAQN,EAAO,CACdD,EAAUC,CAAK,CAChB,CACH,CAGA,SACG,cAAc,uBAAuB,EACrC,iBAAiB,QAAS,MAAMiC,GAAS,CACxC,MAAMgC,EAAUhC,EAAM,OAAO,QAAQ,aAAa,EAC5CiC,EAASjC,EAAM,OAAO,QAAQ,YAAY,EAGhD,GAAI,CAACgC,GAAW,CAACC,EAAQ,OAGzB,MAAMC,EAAaF,GAAWC,EAC9B,GAAIC,EAAW,SAAU,OAsBzB,GApBA9D,IACA+D,KAGIH,IACF1D,EAAY,OAAO0D,EAAQ,QAAQ,IAAI,GAGrCC,IACEA,EAAO,QAAQ,MAAQ,SAAW3D,EAAY,GAChDA,IAGE2D,EAAO,QAAQ,MAAQ,QAAU3D,EAAYI,GAC/CJ,KAIJ4D,EAAW,KAAI,EAEX,CAAC5D,GAAa,OAAO,MAAMA,CAAS,EAAG,CACzCL,EAAS,wDAAwD,EACjEmE,IACA/D,IACA,MACD,CAED,MAAMyD,EAAa,aAAa,QAAQlE,CAAW,EAEnD,GAAI,CACF,KAAM,CAAE,KAAAgC,CAAI,EAAK,MAAMjC,EAAM,cAAe,CAC1C,OAAQ,CACN,KAAMW,EACN,MAAAG,EACA,SAAUqD,CACX,CACT,CAAO,EAEDjD,EAAuB,UAAYgB,EAAoBD,EAAK,UAAU,EAGtErB,EAAaqB,EAAK,WAClBpB,EAAa,KAAK,KAAKD,EAAaE,CAAK,EACzCC,EAAUF,EAEVsB,EAA0BtB,EAAYF,CAAS,EAC/Ce,IAGA,MAAM6C,EAAalC,EAAM,OACzB,GAAI,CAACkC,GAAcA,EAAW,SAAU,OAGpCrD,GACFA,EAAuB,eAAe,CACpC,MAAO,QACP,SAAU,QACpB,CAAS,CAEJ,OAAQd,EAAO,CACdD,EAAUC,CAAK,CACrB,QAAc,CACRqE,IACA/D,GACD,CACL,CAAG,EAEH,SAAS8D,IAA2B,CAClCpD,EACG,iBAAiB,cAAc,EAC/B,QAAQsD,GAAWA,EAAO,SAAW,EAAK,CAC/C,CAEA,SAASD,GAA0B,CACjCrD,EACG,iBAAiB,cAAc,EAC/B,QAAQsD,GAAWA,EAAO,SAAW,EAAM,EAC9ChD,GACF,CC5cA,IAAIiD,GAAU,MAAO,CACnB,SAAU,IACV,aAAc,GACd,WAAY,CAAE,CAChB,CAAC,EAED,MAAMC,EAAa,SAAS,iBAAiB,YAAY,EAEzDA,EAAW,QAAQF,GAAU,CAC3BA,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMG,EAAWH,EAAO,aAAa,eAAe,IAAM,OAE1DE,EAAW,QAAQpB,GAAOA,EAAI,aAAa,gBAAiB,OAAO,CAAC,EAE/DqB,GACHH,EAAO,aAAa,gBAAiB,MAAM,CAEjD,CAAG,CACH,CAAC,EClBD,MAAMI,EAAY,IAA6C,IAAA,0CAAA,YAAA,GAAA,EAAC,KAC1DC,EAAgB,SAAS,cAAc,iBAAiB,EAE9DA,EAAc,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBASLD,CAAS;AAAA;AAAA;AAAA,qBAGTA,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ9B,MAAME,GAAU,SAAS,cAAc,yBAAyB,EAGhE,SAASC,GAAoBC,EAAQ,CACnC,GAA4BA,GAAW,KACrC,MAAO,GAGT,MAAMC,EAAgB,KAAK,MAAMD,EAAS,CAAC,EAAI,EAEzCE,EAAe,KAAK,MAAMD,CAAa,EAEvCE,EAAcF,EAAgBC,IAAiB,GAErD,IAAIE,EAAY,gBAAgBF,CAAY,GAC5C,OAAIC,IACFC,GAAa,SAGR;AAAA,sBACaA,CAAS;AAAA;AAAA;AAAA,KAI/B,CAEO,eAAeC,IAAe,CACnC,GAAI,CAKF,OAJkB,MAAMvF,EACtB,uEACN,GAEqB,IAClB,OAAQI,EAAO,CACd,eAAQ,IAAIA,CAAK,EACV,EACR,CACH,CAEAmF,GAAc,EAAC,KAAKtD,GAAQ,CAC1BA,EAAK,UAAU,QAAQuD,GAAY,CACjC,MAAMC,EAAQ;AAAA;AAAA;AAAA,YAGNR,GAAoBO,EAAS,IAAI,CAAC;AAAA,oCACVA,EAAS,KAAK;AAAA,wCACVA,EAAS,IAAI;AAAA;AAAA;AAAA,MAIjDR,GAAQ,mBAAmB,YAAaS,CAAK,CACjD,CAAG,EAEc,IAAIC,GAAO,UAAW,CACnC,KAAM,GACN,cAAe,EACf,aAAc,GACd,WAAY,CACV,GAAI,qBACJ,UAAW,GACX,KAAM,SACP,EACD,WAAY,CACV,OAAQ,eACR,OAAQ,cACT,EACD,YAAa,CACX,IAAK,CACL,cAAe,EACf,aAAc,EACf,EACC,KAAM,CACJ,cAAe,EACjB,aAAc,EACb,CACJ,CACH,CAAG,CACH,CAAC,EACA,MAAMtF,GAAS,CACd,QAAQ,MAAM,+CAAgDA,CAAK,EACnE2E,EAAc,UAAY;AAAA;AAAA,SAG5B,CAAC,EC9GM,SAASY,GAAkB,CAChC,GAAI,SAAS,cAAc,eAAe,EACxC,OAIF,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,GAAK,eACbA,EAAQ,aAAa,OAAQ,QAAQ,EACrCA,EAAQ,aAAa,YAAa,QAAQ,EAC1CA,EAAQ,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQpB,SAAS,KAAK,YAAYA,CAAO,EAEjC,SAAS,KAAK,UAAU,IAAI,WAAW,CACzC,CAEO,SAASC,GAAkB,CAChC,MAAMC,EAAqB,SAAS,eAAe,cAAc,EAC7DA,IACFA,EAAmB,OAAM,EAEzB,SAAS,KAAK,UAAU,OAAO,WAAW,EAE9C,CCvBA9F,EAAM,SAAS,QAAU,8CAKzB,SAAS+F,EAAeC,EAAS,CAC/B3F,EAAS,MAAM,CACb,QAAS2F,EACT,SAAU,YACV,QAAS,IACT,gBAAiB,UACjB,aAAc,QACd,MAAO,EACX,CAAG,CACH,CAGA,eAAeC,GAAoBC,EAAW,CAC5C,GAAI,CAEF,OADiB,MAAMlG,EAAM,IAAI,eAAekG,CAAS,EAAE,GAC3C,IACjB,OAAQ9F,EAAO,CACd,cAAQ,MACN,+CAA+C8F,CAAS,IACxD9F,CACN,EACUA,CACP,CACH,CAGA,MAAM+F,EAAgB,SAAS,cAAc,yBAAyB,EAChEC,EAAiB,SAAS,cAC9B,oCACF,EACMC,GAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAO,SAAS,KAGtB,SAASrB,GAAoBC,EAAQ,CACnC,GAA4BA,GAAW,KACrC,MAAO,GAGT,MAAMC,EAAgB,KAAK,MAAMD,EAAS,CAAC,EAAI,EAEzCE,EAAe,KAAK,MAAMD,CAAa,EAEvCE,EAAcF,EAAgBC,IAAiB,GAErD,IAAIE,EAAY,gBAAgBF,CAAY,GAC5C,OAAIC,IACFC,GAAa,SAGR;AAAA,sBACaA,CAAS;AAAA;AAAA;AAAA,KAI/B,CAGA,SAASiB,GAAqBC,EAAQ,CA+BpC,MAAO;AAAA;AAAA,0CA9BkBA,EACtB,IAAI,CAACC,EAAU1E,IAAU,CACxB,MAAM2E,EAAU,SAASD,EAAS,UAAU,CAAC,CAAC,GAG9C,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,2BAKcA,CAAQ;AAAA,wBACXC,CAAO;AAAA,8CAPL3E,IAAU,EAAI,YAAc,EAQG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMjB0E,CAAQ;AAAA;AAAA;AAAA,mCAGbA,CAAQ;AAAA,oBACvB1E,IAAU,EAAI,UAAY,EAAE;AAAA;AAAA;AAAA;AAAA,SAKhD,CAAK,EACA,KAAK,EAAE,CAI8C;AAAA,iBAE1D,CAGA,SAAS4E,GAAmBC,EAAS,CACnC,MAAMC,EAAiBD,EAAQ,MAAM,eAAc,EAAK,OACxD,MAAO;AAAA;AAAA;AAAA,qBAGYA,EAAQ,OAAO,CAAC,CAAC,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,mBAIzCA,EAAQ,OACP,MAAM,CAAC,EACP,IACCE,GACE,aAAaA,CAAM,UAAUF,EAAQ,IAAI,0CAC5C,EACA,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKSA,EAAQ,IAAI;AAAA,uCACVA,EAAQ,SAAS,IAAI;AAAA;AAAA,0CAElBC,CAAc;AAAA;AAAA;AAAA,2CAGb5B,GAAoB2B,EAAQ,IAAI,CAAC;AAAA,oBACxDL,GAAqBK,EAAQ,KAAK,CAAC;AAAA;AAAA;AAAA,8CAGTA,EAAQ,WAAW;AAAA,sDACXA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMhCA,EAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAO9C,CAGA,SAASG,GAAc1E,EAAO,CAC5B,GAAI,CAACA,EAAM,OAAO,QAAQ,6BAA6B,EAAG,OAEjCA,EAAM,cAI5B,iBAAiB,6BAA6B,EAC9C,QAAQ2E,GACPA,EAAQ,UAAU,OAAO,YAAaA,IAAY3E,EAAM,MAAM,CACpE,CACA,CAGA,eAAe4E,GAAuB5E,EAAO,CAC3C,MAAM6D,EAAY7D,EAAM,OAAO,UAE/B,GAAI,CACF,MAAMuE,EAAU,MAAMX,GAAoBC,CAAS,EAEnDE,EAAe,UAAYO,GAAmBC,CAAO,EAGrD,MAAMM,EAAY,SAAS,cAAc,+BAA+B,EACpEA,GACFA,EAAU,iBAAiB,SAAUH,EAAa,EAEpD,SACG,cAAc,sCAAsC,EACpD,iBAAiB,QAASI,EAAe,EAG5ChB,EAAc,UAAU,OAAO,WAAW,EAC1CG,EAAK,UAAU,IAAI,YAAY,EAC/B,SAAS,iBAAiB,UAAWc,CAAa,EAGlD,SAAS,KAAK,cACZ,IAAI,YAAY,uBAAwB,CAAE,QAAS,EAAI,CAAE,CAC/D,CACG,MAAe,CACdrB,EAAe,uCAAuC,CAC1D,QAAY,CACRF,GACD,CACH,CAGA,SAASwB,GAAa,CACpBlB,EAAc,UAAU,IAAI,WAAW,EACvCG,EAAK,UAAU,OAAO,YAAY,EAClC,SAAS,oBAAoB,UAAWc,CAAa,EACrDhB,EAAe,UAAY,GAG3B,SAAS,KAAK,cACZ,IAAI,YAAY,uBAAwB,CAAE,QAAS,EAAI,CAAE,CAC7D,CACA,CAGA,SAASe,GAAgB9E,EAAO,CAE9B,MAAM6D,EAAY7D,EAAM,cAAc,QAAQ,UACxCiF,EAAcjF,EAAM,cAAc,QAAQ,OAE1CkF,EAAqB,SAAS,cAClC,8BACJ,EACQC,EAAgBD,EAAqBA,EAAmB,MAAQ,KAEtE,GAAI,CAACrB,GAAa,CAACsB,EAAe,CAChCzB,EAAe,2CAA2C,EAC1D,MACD,CAEDsB,IAGA,MAAMI,EAAa,IAAI,YAAY,mBAAoB,CACrD,QAAS,GACT,OAAQ,CACN,UAAWvB,EACX,cAAesB,EACf,YAAaF,CACd,CACL,CAAG,EAED,SAAS,KAAK,cAAcG,CAAU,CACxC,CAGA,SAASL,EAAc/E,EAAO,CACxBA,EAAM,MAAQ,UAChBgF,GAEJ,CAGAlB,EAAc,iBAAiB,QAAS9D,GAAS,CAC3CA,EAAM,SAAW8D,GACnBkB,GAEJ,CAAC,EACDhB,GAAc,iBAAiB,QAASgB,CAAU,EAGlD,SAAS,KAAK,iBAAiB,qBAAsBJ,EAAsB,EAG3E,SAAS,KAAK,iBAAiB,uBAAwBpB,CAAe,EACtE,SAAS,KAAK,iBAAiB,uBAAwBA,CAAe,EAEtE,SAAS6B,GAAqBrF,EAAO,CACnC,MAAMsF,EAAgBtF,EAAM,OAAO,QAAQ,iBAAiB,EAG5D,GAAI,CAACsF,GAAiB,CAACA,EAAc,QAAQ,GAC3C,OAGFtF,EAAM,eAAc,EACpBsD,IAEA,MAAMO,EAAYyB,EAAc,QAAQ,GAGlCC,EAAe,IAAI,YAAY,qBAAsB,CACzD,QAAS,GACT,OAAQ,CACN,UAAW1B,CACZ,CACL,CAAG,EAGD,SAAS,KAAK,cAAc0B,CAAY,CAC1C,CAEA,SAAS,KAAK,iBAAiB,QAASF,EAAoB,ECjS5D,MAAMG,EAAc,SAAS,cAAc,uBAAuB,EAE5DC,EAAQ,SAAS,eAAe,aAAa,EAC7CC,GAAgB,SAAS,eAAe,eAAe,EACvDC,EAAO,SAAS,eAAe,eAAe,EACpD,IAAI9B,EAAY,KACZjD,EAAQ,KAEZ,SAASgF,IAAkB,CACrBJ,IAAaA,EAAY,MAAM,QAAU,OAC/C,CAEA,SAASK,IAAkB,CACrBL,IAAaA,EAAY,MAAM,QAAU,OAC/C,CAEA,SAAS,KAAK,iBAAiB,mBAAoB,GAAK,CACtD,KAAM,CAAE,UAAWM,EAAI,cAAAX,CAAa,EAAK,EAAE,OAE3CtB,EAAYiC,EACZlF,EAAQuE,EAER7B,IAEAmC,EAAM,MAAM,QAAU,OACtB,SAAS,KAAK,MAAM,SAAW,SAE/B,WAAW,IAAM,CACfjC,IACA,SAAS,KAAK,MAAM,SAAW,QAChC,EAAE,GAAG,CACR,CAAC,EAED,SAASwB,GAAa,CACpBS,EAAM,MAAM,QAAU,OACtB,SAAS,KAAK,MAAM,SAAW,GAC/BE,EAAK,MAAK,EACVI,GACF,CAEAL,GAAc,iBAAiB,QAASV,CAAU,EAClDS,EAAM,iBAAiB,QAAS,GAAK,CAC/B,EAAE,SAAWA,GAAOT,EAAU,CACpC,CAAC,EACD,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAYS,EAAM,MAAM,UAAY,QAAQT,GAC5D,CAAC,EAED,SAASgB,EAAeC,EAAOtC,EAAS,CACtCsC,EAAM,MAAM,OAAS,oBAErB,IAAIC,EAAUD,EAAM,WAAW,cAAc,mBAAmB,EAC3DC,IACHA,EAAU,SAAS,cAAc,GAAG,EACpCA,EAAQ,UAAU,IAAI,kBAAkB,EACxCD,EAAM,WAAW,YAAYC,CAAO,GAEtCA,EAAQ,YAAcvC,CACxB,CAEA,SAASoC,GAAc,CACrB,SAAS,iBAAiB,mBAAmB,EAAE,QAAQ,GAAK,EAAE,OAAM,CAAE,EACtEJ,EAAK,iBAAiB,iBAAiB,EAAE,QAAQQ,GAAM,CACrDA,EAAG,MAAM,OAAS,gCACtB,CAAG,CACH,CAEAR,EAAK,iBAAiB,SAAU,MAAM,GAAK,CACzC,EAAE,eAAc,EAChBI,IAEA,MAAMK,EAAOT,EAAK,KAAK,MAAM,KAAI,EACjC,IAAIU,EAAQV,EAAK,MAAM,MAAM,KAAI,EACjC,MAAMW,EAAUX,EAAK,QAAQ,MAAM,KAAI,EAEvC,IAAIY,EAAW,GAoBf,GAlBKH,IACHJ,EAAeL,EAAK,KAAM,YAAY,EACtCY,EAAW,KAGT,CAACF,GAAS,CAAC,oBAAoB,KAAKA,CAAK,KAC3CL,EAAeL,EAAK,MAAO,YAAY,EACvC3H,EAAS,MAAM,CACb,MAAO,UACP,QAAS,yCACT,SAAU,WACV,QAAS,IACT,MAAO,UACP,aAAc,OACpB,CAAK,EACDuI,EAAW,IAGTA,EAAU,OAEVF,EAAM,SAAW,IAAMA,EAAM,WAAW,GAAG,IAC7CA,EAAQ,KAAOA,GAGjB,MAAMG,EAAY,CAChB,KAAAJ,EACA,MAAAC,EACA,QAASxC,EACT,MAAAjD,EACA,QACE0F,GAAW,6DACjB,EAEE,GAAI,CACFV,KACA,MAAMa,EAAW,MAAM,MACrB,qDACA,CACE,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAoB,EAC/C,KAAM,KAAK,UAAUD,CAAS,CAC/B,CACP,EAEUE,EAAS,MAAMD,EAAS,OAG9B,GAFA,QAAQ,IAAI,yBAA0BC,CAAM,EAExC,CAACD,EAAS,GAAI,CAChBzI,EAAS,MAAM,CACb,MAAO,WACP,QAAS0I,EAAO,SAAW,qCAC3B,SAAU,WACV,MAAO,UACP,aAAc,OACtB,CAAO,EACD,MACD,CAED1I,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,eAAe0I,EAAO,QAAQ,qBACvC,SAAU,WACV,MAAO,UACP,aAAc,OACpB,CAAK,EAED1B,GACD,OAAQ2B,EAAK,CACZ,QAAQ,MAAM,sBAAuBA,CAAG,EACxC3I,EAAS,MAAM,CACb,MAAO,WACP,QAAS,uDACT,SAAU,WACV,MAAO,UACP,aAAc,OACpB,CAAK,CACL,QAAY,CACR6H,IACD,CACH,CAAC,EChKD,SAAS,iBAAiB,mBAAoB,IAAM,CAC9B,SAAS,iBAAiB,YAAY,EAE9C,QAAQpI,GAAQ,CAC1B,MAAMmJ,EAAOnJ,EAAK,aAAa,MAAM,EACjCmJ,GAAQA,EAAK,WAAW,GAAG,GAC7BnJ,EAAK,iBAAiB,QAASoJ,GAAK,CAClCA,EAAE,eAAc,EAEhB,MAAMC,EAAWF,EACXG,EAAgB,SAAS,cAAcD,CAAQ,EAEjDC,GACFA,EAAc,eAAe,CAC3B,SAAU,SACV,MAAO,OACnB,CAAW,EAEHtJ,EAAK,KAAI,CACjB,CAAO,CAEP,CAAG,CACH,CAAC"}